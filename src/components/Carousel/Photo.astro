---
import CarouselSlide from "./CarouselSlide.astro";

let carousellImage1;
let carousellImage2;
let carousellImage3;

const placeholderImages = [
  { src: "https://via.placeholder.com/600x400?text=Imagen+1", alt: "Imagen 1" },
  { src: "https://via.placeholder.com/600x400?text=Imagen+2", alt: "Imagen 2" },
  { src: "https://via.placeholder.com/600x400?text=Imagen+3", alt: "Imagen 3" },
];

// Funci칩n para obtener la imagen desde el servidor
async function fetchImage(url: string | URL | Request) {
  try {
    const response = await fetch(url);
    if (response.ok) {
      return { src: url, alt: `Imagen desde ${url}` };
    } else {
      throw new Error("Imagen no encontrada");
    }
  } catch (error) {
    return null; // Si falla, retornamos null para usar la imagen de marcador de posici칩n
  }
}


carousellImage1 = await fetchImage("http://172.16.21.12:3000/imagesStudent/1") || placeholderImages[0];
carousellImage2 = await fetchImage("http://172.16.21.12:3000/imagesStudent/2") || placeholderImages[1];
carousellImage3 = await fetchImage("http://172.16.21.12:3000/imagesStudent/3") || placeholderImages[2];
---


<ul>
  {placeholderImages.map((image, i) => (
    <li style={`display: ${i === 0 ? 'block' : 'none'};`}>
      <CarouselSlide src={image.src} alt={image.alt} />
    </li>
  ))}
</ul>

<style>
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  li {
    display: none; /* Ocultamos las im치genes, se mostrar치n en el carrusel */
  }
</style>
